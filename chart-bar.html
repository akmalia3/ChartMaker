<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous"> 
        <link rel="stylesheet" type="text/css" href="styles.css">
        <title>Chart</title>
        <style type="text/css">
        </style>
    <body>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

                <!--navbar-->
          <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
          <div class="container">
            <a class="navbar-brand" href="#">ChartM</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                </li>
                  <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="choose.html">Back</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <!--last navbar-->

      <!--contain-->  
      <section class="pieChart">
        <div class="row">
          <div class="col-md-12 justify-content-center">
            <h2 >Rata-rata Waktu Lulus Tiap Tahun</h2>
          </div>
        </div>
            

              <!--row1-->
              <div class="row">
                <!--col1-->
                <div class="col-md-6">
                  <div class="form-container" style="color: white; position: center; margin-left: 10rem; top:0px; left:90px; right: 30px; bottom: 30px;">
                  </div>
                </div>
                <!--end col1-->

                <!--col2-->
                <div class="col-md-6">
                  <div class="chart-container justify-content-center" style="margin-right: 3rem">
                      <canvas id="pieChart"></canvas></div> 
                </div>
                <!--end col2-->
              </div>
              <!-- end row1-->

              <!--waves-->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgb(84, 128, 179)" fill-opacity="1" d="M0,96L80,101.3C160,107,320,117,480,144C640,171,800,213,960,218.7C1120,224,1280,192,1360,176L1440,160L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z">
            </path></svg>
            <!--end waves-->        
        </section>
        <!--end of contain-->         

        <!--footer-->
      <footer class="footer bg-dark text-white text-center">
        <p class="text-white">Created by Akmalia Fatimah</p>
      </footer>
      <!--end of footer-->

      

        <script>
            const mhs=['2012','2013','2014','2015','2016','2017','2018','2019','2020','2021'];
            const ctx = document.getElementById('pieChart');


            const cont=document.querySelector(".form-container");
            cont.innerHTML=mhs.map((M,i)=>{
              let m=M.toLowerCase(); 
              return `<input type="text" name="${m}" placeholder="${M}" value="${i+1}"> ${M}`;}).join("<br>");
              const inps=[...document.querySelectorAll("input")];
              cont.addEventListener("input",ev=>{
             pieChart.data.datasets[0].data= inps.map(el=>+el.value);
             pieChart.update()
            });


            const pieChart = new Chart( ctx, {
              type: 'bar',
              data: {
                labels: mhs,
                datasets: [{
                  label: '# of Votes',
                  data: inps.map(el=>+el.value),
                  backgroundColor: [
                  'rgba(255, 99, 132, 0.6)',
                  'rgba(182, 113, 219, 0.6)',
                  'rgba(54, 162, 200, 0.6)',
                  'rgba(255, 206, 86, 0.6)',
                  'rgba(117, 117, 117, 0.6)',
                  'rgba(144, 238, 144, 0.6)',                    
                  'rgba(103, 242, 224, 0.6)',
                  'rgba(244, 164, 96, 0.6)',
                  'rgba(251, 255, 251, 0.6)',
                  'rgba(0, 208, 254, 0.6)',                     
                  ],
                  borderColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(182,113,219, 1)',
                  'rgba(54, 162, 200, 2)',
                  'rgba(255, 206, 86, 1)',
                  'rgba(117, 117, 117, 1)',
                  'rgba(144, 238, 144, 1)',                    
                  'rgba(103, 242, 224, 1)',
                  'rgba(244, 164, 96, 1)',
                  'rgba(251, 255, 251, 1)',
                  'rgba(0, 208, 254, 1)',  
                  ],
                }]
              },
               options: {
                indexAxis: 'y',
            },
            });

            cont.addEventListener("input",ev=>{
             pieChart.data.datasets[0].data= inps.map(el=>+el.value);
             pieChart.update()
            });
</script>

</body>
</head>
</html>

        